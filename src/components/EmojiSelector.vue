<script setup lang="ts">
import { computed } from "@vue/reactivity";
import { ref } from "vue";

const emojis = ref([
    {
        keyword: "Î∞•",
        emoji: "üçö",
    },
    {
        keyword: "ÏûêÏ†ÑÍ±∞",
        emoji: "üö≤",
    },
    {
        keyword: "Í≤åÏûÑ",
        emoji: "üíª",
    },
    {
        keyword: "Í≥µÎ∂Ä",
        emoji: "üìñ",
    },
    {
        keyword: "1",
        emoji: "‚öΩÔ∏è",
    },
    {
        keyword: "2",
        emoji: "üçª",
    },
    {
        keyword: "3",
        emoji: "üé±",
    },
    {
        keyword: "4",
        emoji: "üõí",
    },
    {
        keyword: "5",
        emoji: "üé¨",
    },
    {
        keyword: "6",
        emoji: "üé§",
    },
    {
        keyword: "7",
        emoji: "üéÆ",
    },
    {
        keyword: "8",
        emoji: "üèì",
    },
    {
        keyword: "9",
        emoji: "üè∏",
    },
    {
        keyword: "10",
        emoji: "‚öæÔ∏è",
    },
    {
        keyword: "11",
        emoji: "‚òïÔ∏è",
    },
    {
        keyword: "12",
        emoji: "ü•ê",
    },
]);

const emit = defineEmits(["click-emoji"]);
const emojiValue = ref();

const filteredEmojis = computed(() => {
    if (!emojiValue.value) return emojis.value;
    return emojis.value.filter((i) => i.keyword.includes(emojiValue.value));
});
</script>

<template>
    <div class="emoji-selector">
        <input v-model="emojiValue" type="text" placeholder="Ïù¥Î™®Ìã∞ÏΩò Í≤ÄÏÉâ..." />
        <div class="frequent">
            <div class="title">ÏûêÏ£º ÏÇ¨Ïö©Îê®</div>
            <div class="emoji-list">
                <div class="emoji" v-for="emoji of filteredEmojis" @click="emit('click-emoji', emoji.emoji)">
                    {{ emoji.emoji }}
                </div>
            </div>
        </div>
    </div>
</template>

<style lang="scss" scoped>
.emoji-selector {
    padding: 30px 20px;
    border-radius: 24px 24px 0 0;
    background-color: white;

    input {
        @include input;
        width: 100%;
        height: 44px;
        background: #e6e6e6;
        border-radius: 10px;
        font-family: "Roboto";
        font-style: normal;
        font-weight: 400;
        font-size: 14px;
        line-height: 16px;
        padding: 6px 10px;
        padding-left: 55px;
        border: none;
        background-image: url(../img/Search.svg);
        background-repeat: no-repeat;
        background-position: 12px center;

        &::placeholder {
            color: #313439;
        }
    }
    .frequent {
        .title {
            padding: 18px 9px;
            font-style: normal;
            font-weight: 400;
            font-size: 14px;
            line-height: 16px;
        }
        .emoji-list {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            .emoji {
                @include clickable();
                width: 36px;
                height: 36px;
                font-size: 30px;
                display: flex;
                justify-content: center;
                align-items: center;
                transition: all 0.3s;
                &:hover {
                    transform: scale(1.2);
                }
            }
        }
    }
}
</style>
